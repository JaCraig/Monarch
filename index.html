<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Monarch | Monarch API Reference </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="Monarch | Monarch API Reference ">
      <meta name="generator" content="docfx ">
  
      <link rel="shortcut icon" href="favicon.ico">
      <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/night-owl.min.css">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" integrity="sha384-EvBWSlnoFgZlXJvpzS+MAUEjvN7+gcCwH+qh7GRFOGgZO0PuwOFro7qPOJnLfe7l" crossorigin="anonymous">
      <link rel="stylesheet" href="styles/config.css">
      <link rel="stylesheet" href="styles/discord.css">
      <link rel="stylesheet" href="styles/singulink.css">
      <link rel="stylesheet" href="styles/main.css">
      <meta property="docfx:navrel" content="toc.html">
      <meta property="docfx:tocrel" content="toc.html">
  
  <meta property="docfx:rel" content="">
  <meta property="docfx:newtab" content="true">
    </head>
    <body>
        <div class="top-navbar">
            <a class="burger-icon" onclick="toggleMenu()">
                <svg name="Hamburger" style="vertical-align: middle;" width="34" height="34" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M20 6H4V9H20V6ZM4 10.999H20V13.999H4V10.999ZM4 15.999H20V18.999H4V15.999Z"></path></svg>
            </a>


            <a class="brand" href="index.html">
              <img src="images/icon.png" alt="Monarch" class="logomark">
              <span class="brand-title">Monarch</span>
            </a>        </div>

        <div class="body-content">
            <div id="blackout" class="blackout" onclick="toggleMenu()"></div>

            <nav id="sidebar" role="navigation">
                <div class="sidebar">

                    <div>
                      <div class="mobile-hide">

                        <a class="brand" href="index.html">
                          <img src="images/icon.png" alt="Monarch" class="logomark">
                          <span class="brand-title">Monarch</span>
                        </a>                      </div>

                      <div class="sidesearch">
                        <form id="search" role="search" class="search">
                            <i class="bi bi-search search-icon"></i>
                            <input type="text" id="search-query" placeholder="Search" autocomplete="off">
                        </form>
                      </div>

                      <div id="navbar">
                      </div>
                    </div>                    <div class="sidebar-item-separator"></div>
                </div>
                <div class="footer">
  <strong><a href='https://github.com/JaCraig/Monarch'>Open in Github</a></strong>
  
                </div>            </nav>

            <main class="main-panel">

                <div id="search-results" style="display: none;">
                  <h1 class="search-list">Search Results for <span></span></h1>
                  <div class="sr-items">
                    <p><i class="bi bi-hourglass-split index-loading"></i></p>
                  </div>
                  <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
                </div>
 

                <div role="main" class="hide-when-search">

                        <div class="subnav navbar navbar-default">
                          <div class="container hide-when-search" id="breadcrumb">
                            <ul class="breadcrumb">
                              <li></li>
                            </ul>
                          </div>
                        </div>

                         <div id="contribution">
                               <a href="https://github.com/JaCraig/Monarch/blob/master/docfx_project/index.md/#L1" class="contribution-link">Edit this page</a>
                         </div>

                    <article class="content wrap" id="_content" data-uid="">
<h1 id="monarch">Monarch</h1>

<p><a href="https://github.com/JaCraig/Monarch/actions/workflows/dotnet-publish.yml"><img src="https://github.com/JaCraig/Monarch/actions/workflows/dotnet-publish.yml/badge.svg" alt=".NET Publish"></a></p>
<p>Monarch is a command line parser/task runner.</p>
<h2 id="basic-usage">Basic Usage</h2>
<p>In order to use the system, you need to register it with your ServiceCollection:</p>
<pre><code>serviceCollection.AddCanisterModules();
				
</code></pre>
<p>This is required prior to using the Monarch class for the first time. Once it is wired up, you can use the CommandRunner class:</p>
<pre><code>var Instance = new CommandRunner();
return Instance.Run(args);
</code></pre>
<p>The CommandRunner class has a Run method which parses the args passed in and runs the appropriate command. The library has help and version commands built in to the system, however to create your own commands you need to create a command and also an input class:</p>
<pre><code>public class TestCommand : CommandBaseClass&lt;TestInput&gt;
{
    public override string[] Aliases =&gt; new string[] { &quot;Test&quot; };

    public override string Description =&gt; &quot;Test command&quot;;

    public override string Name =&gt; &quot;Test Command&quot;;

    protected override async Task&lt;int&gt; Run(TestInput input)
    {
        await Task.CompletedTask;
        Console.WriteLine(input.Value1);
        Console.WriteLine(input.Value2);
        Console.WriteLine(input.Value3.ToString(x =&gt; x));
        return 0;
    }
}

public class TestInput
{
    [Display(Description = &quot;Value 1 Property&quot;)]
    public int Value1 { get; set; }

    [Display(Description = &quot;Value 2 Property&quot;)]
    public string Value2 { get; set; }

    [Display(Description = &quot;Value 3 Property&quot;)]
    [MaxLength(3)]
    public List&lt;string&gt; Value3 { get; set; }
}
</code></pre>
<p>The command above inherits from the CommandBaseClass and defines the input that it expects. In this case TestInput. TestInput is how the command line arguments should be parsed by the system. The commands must define the aliases, description, and name for the command. The TestInput then defines properties and uses the DisplayAttribute from the System.ComponentModel.DataAnnotations namespace to define information. Also any data annotations defining max length, required, etc. are used to validate the input.</p>
<h2 id="options">Options</h2>
<p>By default the system does not require you to set options. However you can specify some options found within the system including command prefix, flag prefix, and indentation amount. In order to override what is in the system just create a class that inherits from IOptions:</p>
<pre><code>public class DefaultOptions : IOptions
{
    /// &lt;summary&gt;
    /// Gets the command prefix.
    /// &lt;/summary&gt;
    /// &lt;value&gt;The command prefix.&lt;/value&gt;
    public string CommandPrefix { get; } = &quot;&quot;;

    /// &lt;summary&gt;
    /// Gets the flag prefix.
    /// &lt;/summary&gt;
    /// &lt;value&gt;The flag prefix.&lt;/value&gt;
    public string FlagPrefix { get; } = &quot;-&quot;;

    /// &lt;summary&gt;
    /// Gets the indent amount.
    /// &lt;/summary&gt;
    /// &lt;value&gt;The indent amount.&lt;/value&gt;
    public int IndentAmount { get; } = 4;
}
</code></pre>
</article>
                </div>

                <div class="copyright-footer">
                    <span>&#169; James Craig. All rights reserved.</span>
                </div>
            </main>
        </div>


        <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
        <script type="text/javascript" src="styles/jquery.twbsPagination.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/jquery.mark.min.js"></script>
        <script type="text/javascript" src="styles/url.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/anchor-js@5.0.0/anchor.min.js"></script>
        <script type="text/javascript" src="styles/docfx.js"></script>
        <script type="text/javascript" src="styles/main.js"></script>
        <script type="text/javascript" src="styles/singulink.js"></script>    </body>
</html>
