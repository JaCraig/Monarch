<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Monarch | Monarch API Reference </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Monarch | Monarch API Reference ">
      
      
      <link rel="icon" href="favicon.ico">
      <link rel="stylesheet" href="public/docfx.min.css">
      <link rel="stylesheet" href="public/main.css">
      <meta name="docfx:navrel" content="toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="">
      
      
      <meta name="docfx:docurl" content="https://github.com/JaCraig/Monarch/blob/master/docfx_project/index.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="index.html">
            <img id="logo" class="svg" src="images/icon.png" alt="Monarch">
            Monarch
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">

      <div class="content">
        <div class="actionbar">

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="monarch">Monarch</h1>

<p><a href="https://github.com/JaCraig/Monarch/actions/workflows/dotnet-publish.yml"><img src="https://github.com/JaCraig/Monarch/actions/workflows/dotnet-publish.yml/badge.svg" alt=".NET Publish"></a></p>
<p>Monarch is a command line parser/task runner.</p>
<h2 id="basic-usage">Basic Usage</h2>
<p>In order to use the system, you need to register it with your ServiceCollection:</p>
<pre><code>serviceCollection.AddCanisterModules();
				
</code></pre>
<p>This is required prior to using the Monarch class for the first time. Once it is wired up, you can use the CommandRunner class:</p>
<pre><code>var Instance = new CommandRunner();
return Instance.Run(args);
</code></pre>
<p>The CommandRunner class has a Run method which parses the args passed in and runs the appropriate command. The library has help and version commands built in to the system, however to create your own commands you need to create a command and also an input class:</p>
<pre><code>public class TestCommand : CommandBaseClass&lt;TestInput&gt;
{
    public override string[] Aliases =&gt; new string[] { &quot;Test&quot; };

    public override string Description =&gt; &quot;Test command&quot;;

    public override string Name =&gt; &quot;Test Command&quot;;

    protected override async Task&lt;int&gt; Run(TestInput input)
    {
        await Task.CompletedTask;
        Console.WriteLine(input.Value1);
        Console.WriteLine(input.Value2);
        Console.WriteLine(input.Value3.ToString(x =&gt; x));
        return 0;
    }
}

public class TestInput
{
    [Display(Description = &quot;Value 1 Property&quot;)]
    public int Value1 { get; set; }

    [Display(Description = &quot;Value 2 Property&quot;)]
    public string Value2 { get; set; }

    [Display(Description = &quot;Value 3 Property&quot;)]
    [MaxLength(3)]
    public List&lt;string&gt; Value3 { get; set; }
}
</code></pre>
<p>The command above inherits from the CommandBaseClass and defines the input that it expects. In this case TestInput. TestInput is how the command line arguments should be parsed by the system. The commands must define the aliases, description, and name for the command. The TestInput then defines properties and uses the DisplayAttribute from the System.ComponentModel.DataAnnotations namespace to define information. Also any data annotations defining max length, required, etc. are used to validate the input.</p>
<h2 id="options">Options</h2>
<p>By default the system does not require you to set options. However you can specify some options found within the system including command prefix, flag prefix, and indentation amount. In order to override what is in the system just create a class that inherits from IOptions:</p>
<pre><code>public class DefaultOptions : IOptions
{
    /// &lt;summary&gt;
    /// Gets the command prefix.
    /// &lt;/summary&gt;
    /// &lt;value&gt;The command prefix.&lt;/value&gt;
    public string CommandPrefix { get; } = &quot;&quot;;

    /// &lt;summary&gt;
    /// Gets the flag prefix.
    /// &lt;/summary&gt;
    /// &lt;value&gt;The flag prefix.&lt;/value&gt;
    public string FlagPrefix { get; } = &quot;-&quot;;

    /// &lt;summary&gt;
    /// Gets the indent amount.
    /// &lt;/summary&gt;
    /// &lt;value&gt;The indent amount.&lt;/value&gt;
    public int IndentAmount { get; } = 4;
}
</code></pre>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/JaCraig/Monarch/blob/master/docfx_project/index.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <strong><a href='https://github.com/JaCraig/Monarch'>Open in Github</a></strong>
        </div>
      </div>
    </footer>
  </body>
</html>
